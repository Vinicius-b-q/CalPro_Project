(this.webpackJsonp1_instalacao=this.webpackJsonp1_instalacao||[]).push([[0],[,,,,,,,,,,function(e,t,c){e.exports={project_details:"Project_project_details__17MTC",details_container:"Project_details_container__3avQ4",service_form_container:"Project_service_form_container__3RfkU",btn:"Project_btn__1dXw6",form:"Project_form__3yICn"}},function(e,t,c){e.exports={project_card:"ProjectCard_project_card__2JFq1",category_text:"ProjectCard_category_text__1_C6Y",infra:"ProjectCard_infra__20Nj2",desenvolvimento:"ProjectCard_desenvolvimento__1rTc3",design:"ProjectCard_design__6TcgL",planejamento:"ProjectCard_planejamento__bqdq9",project_card_actions:"ProjectCard_project_card_actions__1M1B2"}},,,function(e,t,c){e.exports={navbar:"Navbar_navbar__2QXfJ",list:"Navbar_list__3kGRI",item:"Navbar_item__2jkap"}},,,,function(e,t,c){e.exports={form:"ProjectForm_form__1QWi4"}},function(e,t,c){e.exports={footer:"Footer_footer__3fu6z",social_list:"Footer_social_list__gsQiu",copy_right:"Footer_copy_right__G9wVO"}},,,,function(e,t,c){e.exports={container:"Container_container__1OoCt",start:"Container_start__1t87F",column:"Container_column__2iQ-5","min-height":"Container_min-height__2W4Uq"}},,,function(e,t,c){e.exports={loader_container:"Loading_loader_container__3mKhh",loader:"Loading_loader__3H_N_"}},function(e,t,c){e.exports={message:"Message_message__NEXvB",success:"Message_success__28KLa",error:"Message_error__3Gs6Q"}},function(e,t,c){e.exports={project_container:"Projects_project_container__3eqjg",title_container:"Projects_title_container__qSquJ"}},,,function(e,t,c){e.exports={home_container:"Home_home_container__3Hxzj"}},function(e,t,c){e.exports={btn:"LinkButton_btn__1uiP7"}},function(e,t,c){e.exports={form_control:"Input_form_control__1MmT8"}},function(e,t,c){e.exports={form_control:"Select_form_control__IOlP1"}},function(e,t,c){e.exports={btn:"SubmitButton_btn__3xCNl"}},function(e,t,c){e.exports={newproject_container:"NewProject_newproject_container__1PhdW"}},function(e,t,c){e.exports={style:"Company_style__2CnfW"}},function(e,t,c){e.exports={p:"Contact_p__362ew"}},,,,,function(e,t,c){},,,,,,,,,,function(e,t,c){"use strict";c.r(t);var n=c(2),o=c.n(n),a=c(29),s=c.n(a),r=(c(43),c(6)),i=c(3),j=c(20),l=c(19),d=c.n(l),u=c(1);var b=function(){return Object(u.jsxs)("footer",{className:d.a.footer,children:[Object(u.jsxs)("ul",{className:d.a.social_list,children:[Object(u.jsx)("li",{children:Object(u.jsx)(j.a,{})}),Object(u.jsx)("li",{children:Object(u.jsx)(j.b,{})}),Object(u.jsx)("li",{children:Object(u.jsx)(j.c,{})})]}),Object(u.jsxs)("p",{className:d.a.copy_right,children:[Object(u.jsx)("span",{children:"CalPro"})," \xa9 2022"]})]})},h=c(23),m=c.n(h);var p=function(e){return Object(u.jsx)("div",{className:"".concat(m.a.container," ").concat(m.a[e.customClass]),children:e.children})},O=c(14),x=c.n(O),_=c.p+"static/media/costs_logo.dfb9bb65.png";var f=function(){return Object(u.jsx)("div",{className:x.a.navbar,children:Object(u.jsxs)(p,{children:[Object(u.jsx)(r.b,{to:"/",children:Object(u.jsx)("img",{src:_,alt:"Costs"})}),Object(u.jsxs)("ul",{className:x.a.list,children:[Object(u.jsx)("li",{className:x.a.item,children:Object(u.jsx)(r.b,{to:"/",children:"Home"})}),Object(u.jsx)("li",{className:x.a.item,children:Object(u.jsx)(r.b,{to:"/projects",children:"Projetos"})}),Object(u.jsx)("li",{className:x.a.item,children:Object(u.jsx)(r.b,{to:"/company",children:"Empresa"})}),Object(u.jsx)("li",{className:x.a.item,children:Object(u.jsx)(r.b,{to:"/contact",children:"Contato"})})]})]})})},v=c(31),g=c.n(v),C=c.p+"static/media/savings.b23ddf52.png",N=c(32),y=c.n(N);var S=function(e){var t=e.to,c=e.text;return Object(u.jsx)(r.b,{className:y.a.btn,to:t,children:c})};var P=function(){return Object(u.jsxs)("section",{className:g.a.home_container,children:[Object(u.jsxs)("h1",{children:["Bem-vindo ao ",Object(u.jsx)("span",{children:"CalPro"})]}),Object(u.jsx)("p",{children:"Comece a gerenciar os seus projetos agora mesmo!"}),Object(u.jsx)(S,{to:"/newproject",text:"Criar projeto"}),Object(u.jsx)("img",{src:C,alt:"Savings"})]})},T=c(5),q=c.p+"static/media/loading.5ff85998.svg",E=c(26),F=c.n(E);var w=function(){return Object(u.jsx)("div",{className:F.a.loader_container,children:Object(u.jsx)("img",{className:F.a.loader,src:q,alt:"Loading"})})},D=c(11),L=c.n(D),k=c(17);var I=function(e){var t=e.id,c=e.name,n=e.budget,o=e.category,a=e.handleRemove;return Object(u.jsxs)("div",{className:L.a.project_card,children:[Object(u.jsx)("h4",{children:c}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:"Or\xe7amento:"})," R$",n]}),Object(u.jsxs)("p",{className:L.a.category_text,children:[Object(u.jsx)("span",{className:"".concat(L.a[null===o||void 0===o?void 0:o.toLowerCase()])})," ",o]}),Object(u.jsxs)("div",{className:L.a.project_card_actions,children:[Object(u.jsxs)(r.b,{to:"/project/"+t,children:[Object(u.jsx)(k.b,{})," Editar"]}),Object(u.jsxs)("button",{onClick:function(e){e.preventDefault(),a(t)},children:[Object(u.jsx)(k.a,{}),"Excluir"]})]})]})},R=c(27),J=c.n(R);var M=function(e){var t=e.type,c=e.msg,o=Object(n.useState)(!1),a=Object(T.a)(o,2),s=a[0],r=a[1];return Object(n.useEffect)((function(){if(c){r(!0);var e=setTimeout((function(){r(!1)}),3e3);return function(){return clearTimeout(e)}}r(!1)}),[c]),Object(u.jsx)(u.Fragment,{children:s&&Object(u.jsx)("div",{className:"".concat(J.a.message," ").concat(J.a[t]),children:c})})},H=c(28),A=c.n(H);var B=function(){var e=Object(n.useState)([]),t=Object(T.a)(e,2),c=t[0],o=t[1],a=Object(n.useState)(!1),s=Object(T.a)(a,2),r=s[0],j=s[1],l=Object(n.useState)(""),d=Object(T.a)(l,2),b=d[0],h=d[1],m=Object(i.g)(),O="";function x(e){fetch("http://localhost:5000/projects/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){o(c.filter((function(t){return t.id!==e}))),h("Projeto removido com sucesso!")}))}return m.state&&(O=m.state.message),Object(n.useEffect)((function(){setTimeout((function(){return fetch("http://localhost:5000/projects",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){o(e),j(!0)}))}),100)}),[]),Object(u.jsxs)("div",{className:A.a.project_container,children:[Object(u.jsxs)("div",{className:A.a.title_container,children:[Object(u.jsx)("h1",{children:"Meus Projetos"}),Object(u.jsx)(S,{to:"/newproject",text:"Criar projeto"})]}),O&&Object(u.jsx)(M,{type:"success",msg:O}),b&&Object(u.jsx)(M,{type:"success",msg:b}),Object(u.jsxs)(p,{customClass:"start",children:[c.length>0&&c.map((function(e){var t;return Object(u.jsx)(I,{id:e.id,name:e.name,budget:e.budget,category:null===(t=e.category)||void 0===t?void 0:t.name,handleRemove:x},e.id)})),!r&&Object(u.jsx)(w,{}),r&&0===c.length&&Object(u.jsx)("p",{children:"N\xe3o h\xe1 projetos cadastrados!"})]})]})},G=c(15),Q=c(12),z=c(33),W=c.n(z);var $=function(e){var t=e.type,c=e.text,n=e.name,o=e.placeholder,a=e.handleOnChange,s=e.value;return Object(u.jsxs)("div",{className:W.a.form_control,children:[Object(u.jsxs)("label",{htmlFor:n,children:[c,":"]}),Object(u.jsx)("input",{type:t,name:n,id:n,placeholder:o,onChange:a,value:s})]})},U=c(34),X=c.n(U);var K=function(e){var t=e.text,c=e.name,n=e.options,o=e.handleOnChange,a=e.value;return Object(u.jsxs)("div",{className:X.a.form_control,children:[Object(u.jsxs)("label",{htmlFor:c,children:[t,":"]}),Object(u.jsxs)("select",{name:c,id:c,onChange:o,value:a||"",children:[Object(u.jsx)("option",{children:"Selecione uma op\xe7\xe3o"}),n.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})},V=c(35),Y=c.n(V);var Z=function(e){var t=e.text;return Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:Y.a.btn,children:t})})},ee=c(18),te=c.n(ee);var ce=function(e){var t=e.handleSubmit,c=e.btnText,o=e.projectData,a=Object(n.useState)(o||{}),s=Object(T.a)(a,2),r=s[0],i=s[1],j=Object(n.useState)([]),l=Object(T.a)(j,2),d=l[0],b=l[1];function h(e){i(Object(Q.a)(Object(Q.a)({},r),{},Object(G.a)({},e.target.name,e.target.value)))}return Object(n.useEffect)((function(){fetch("http://localhost:5000/categories",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){b(e)}))}),[]),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r)},className:te.a.form,children:[Object(u.jsx)($,{type:"text",text:"Nome do projeto",name:"name",placeholder:"Insira o nome do projeto",handleOnChange:h,value:r.name}),Object(u.jsx)($,{type:"number",text:"Or\xe7amento do projeto",name:"budget",placeholder:"Insira o or\xe7amento total",handleOnChange:h,value:r.budget}),Object(u.jsx)(K,{name:"category_id",text:"Selecione a categoria",options:d,handleOnChange:function(e){i(Object(Q.a)(Object(Q.a)({},r),{},{category:{id:e.target.value,name:e.target.options[e.target.selectedIndex].text}}))},value:r.category?r.category.id:""}),Object(u.jsx)(Z,{text:c})]})},ne=c(36),oe=c.n(ne);var ae=function(){var e=Object(i.f)();return Object(u.jsxs)("div",{className:oe.a.newproject_container,children:[Object(u.jsx)("h1",{children:"Criar Projeto"}),Object(u.jsx)("p",{children:"Crie seu projeto para depois adicionar os servi\xe7os"}),Object(u.jsx)(ce,{handleSubmit:function(t){t.cost=0,t.services=[],fetch("http://localhost:5000/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){e.push("/projects",{message:"Projeto criado com sucesso!"})}))},btnText:"Criar Projeto"})]})},se=c(37),re=c.n(se);var ie=function(){return Object(u.jsxs)("section",{children:[Object(u.jsx)("h1",{className:re.a.style,children:"Sobre a empresa"}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perspiciatis rerum, doloremque accusamus alias eos, qui itaque similique adipisci, sequi sed quasi minus! Perspiciatis voluptatibus atque ipsam deleniti iste, dolorem porro! Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perspiciatis rerum, doloremque accusamus alias eos, qui itaque similique adipisci, sequi sed quasi minus! Perspiciatis voluptatibus atque ipsam deleniti iste, dolorem porro!"})]})},je=c(38),le=c.n(je);var de=function(){return Object(u.jsxs)("section",{children:[Object(u.jsx)("h1",{className:le.a.p,children:"Contato"}),Object(u.jsx)("p",{children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Voluptas officiis molestiae fugiat tempora quod. Nulla ullam alias illum repellendus delectus, cumque voluptatem eveniet quam explicabo libero ut! Ut, autem quidem?"})]})},ue=c(55),be=c(10),he=c.n(be);var me=function(e){var t=e.handleSubmit,c=e.btnText,o=e.projectData,a=Object(n.useState)({}),s=Object(T.a)(a,2),r=s[0],i=s[1];function j(e){i(Object(Q.a)(Object(Q.a)({},r),{},Object(G.a)({},e.target.name,e.target.value)))}return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o.services.push(r),t(o)},className:te.a.form,children:[Object(u.jsx)($,{type:"text",text:"Nome do servi\xe7o",name:"name",placeholder:"Insira o nome do servi\xe7o",handleOnChange:j}),Object(u.jsx)($,{type:"number",text:"Custo do servi\xe7o",name:"cost",placeholder:"Insira o valor total",handleOnChange:j}),Object(u.jsx)($,{type:"text",text:"Descri\xe7\xe3o do projeto",name:"description",placeholder:"Descreva o servi\xe7o",handleOnChange:j}),Object(u.jsx)(Z,{text:c})]})};var pe=function(e){var t=e.id,c=e.name,n=e.cost,o=e.description,a=e.handleRemove;return Object(u.jsxs)("div",{className:L.a.project_card,children:[Object(u.jsx)("h4",{children:c}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:"Custo total:"})," R$",n]}),Object(u.jsx)("p",{children:o}),Object(u.jsx)("div",{className:L.a.project_card_actions,children:Object(u.jsxs)("button",{onClick:function(e){e.preventDefault(),a(t,n)},children:[Object(u.jsx)(k.a,{}),"Excluir"]})})]})};var Oe=function(){var e=Object(i.h)().id,t=Object(n.useState)([]),c=Object(T.a)(t,2),o=c[0],a=c[1],s=Object(n.useState)(!1),r=Object(T.a)(s,2),j=r[0],l=r[1],d=Object(n.useState)(!1),b=Object(T.a)(d,2),h=b[0],m=b[1],O=Object(n.useState)([]),x=Object(T.a)(O,2),_=x[0],f=x[1],v=Object(n.useState)(""),g=Object(T.a)(v,2),C=g[0],N=g[1],y=Object(n.useState)("success"),S=Object(T.a)(y,2),P=S[0],q=S[1];function E(e,t){var c=o.services.filter((function(t){return t.id!==e})),n=o;n.services=c,n.cost=parseFloat(n.cost)-parseFloat(t),fetch("http://localhost:5000/projects/".concat(n.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){a(n),f(c),N("Servi\xe7o removido com sucesso!")}))}return Object(n.useEffect)((function(){setTimeout((function(){return fetch("http://localhost:5000/projects/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e),f(e.services)}))}),0)}),[e]),Object(u.jsx)(u.Fragment,{children:o.name?Object(u.jsx)("div",{className:he.a.project_details,children:Object(u.jsxs)(p,{customClass:"column",children:[C&&Object(u.jsx)(M,{type:P,msg:C}),Object(u.jsxs)("div",{className:he.a.details_container,children:[Object(u.jsxs)("h1",{children:["Projeto: ",o.name]}),Object(u.jsx)("button",{className:he.a.btn,onClick:function(){l(!j)},children:j?"Fechar":"Editar projeto"}),j?Object(u.jsx)("div",{className:he.a.form,children:Object(u.jsx)(ce,{handleSubmit:function(e){if(e.budget<e.cost)return N("O Or\xe7amento n\xe3o pode ser menor que o custo do projeto!"),q("error"),!1;fetch("http://localhost:5000/projects/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){a(e),l(!j),N("Projeto atualizado!"),q("success")}))},btnText:"Concluir Edi\xe7\xe3o",projectData:o})}):Object(u.jsxs)("div",{className:he.a.form,children:[Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:"Categoria:"})," ",o.category.name]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:"Total do or\xe7amento:"})," R$",o.budget]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:"Total utilizado:"})," R$",o.cost]})]})]}),Object(u.jsxs)("div",{className:he.a.service_form_container,children:[Object(u.jsx)("h2",{children:"Adicione um servi\xe7o:"}),Object(u.jsx)("button",{className:he.a.btn,onClick:function(){m(!h)},children:h?"Fechar":"Adicionar Servi\xe7o"}),Object(u.jsx)("div",{className:he.a.form,children:h&&Object(u.jsx)(me,{handleSubmit:function(e){var t=e.services[e.services.length-1];t.id=Object(ue.a)();var c=t.cost,n=parseFloat(e.cost)+parseFloat(c);if(n>parseFloat(e.budget))return N("Or\xe7amento ultrapassado, verifique o valor do servi\xe7o!"),q("error"),e.services.pop(),!1;e.cost=n,fetch("http://localhost:5000/projects/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){f(e.services),m(!h),N("Servi\xe7o adicionado!"),q("success")}))},btnText:"Adicionar Servi\xe7o",projectData:o})})]}),Object(u.jsx)("h2",{children:"Servi\xe7os:"}),Object(u.jsxs)(p,{customClass:"start",children:[_.length>0&&_.map((function(e){return Object(u.jsx)(pe,{id:e.id,name:e.name,cost:e.cost,description:e.description,handleRemove:E},e.id)})),0===_.length&&Object(u.jsx)("p",{children:"N\xe3o h\xe1 servi\xe7os cadastrados."})]})]})}):Object(u.jsx)(w,{})})};var xe=function(){return Object(u.jsxs)(r.a,{children:[Object(u.jsx)(f,{}),Object(u.jsx)(i.c,{children:Object(u.jsxs)(p,{customClass:"min-height",children:[Object(u.jsx)(i.a,{exact:!0,path:"/",children:Object(u.jsx)(P,{})}),Object(u.jsx)(i.a,{path:"/projects",children:Object(u.jsx)(B,{})}),Object(u.jsx)(i.a,{path:"/company",children:Object(u.jsx)(ie,{})}),Object(u.jsx)(i.a,{path:"/contact",children:Object(u.jsx)(de,{})}),Object(u.jsx)(i.a,{path:"/newproject",children:Object(u.jsx)(ae,{})}),Object(u.jsx)(i.a,{path:"/project/:id",children:Object(u.jsx)(Oe,{})})]})}),Object(u.jsx)(b,{})]})};s.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(xe,{})}),document.getElementById("root"))}],[[53,1,2]]]);
//# sourceMappingURL=main.15911f8d.chunk.js.map